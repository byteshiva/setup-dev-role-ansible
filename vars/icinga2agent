---
# vars file for icinga2-nrpe-agent
ansible_port_ssh: 22
nrpe_allowed_hosts: "192.168.1.1,127.0.0.1,192.168.10.150"
nrpe_configuration: |
   log_facility=daemon
   server_port=5666
   server_address={{ ansible_default_ipv4.address }}
   dont_blame_nrpe=0
   debug=0
   command_timeout=60
   connection_timeout=150
   allowed_hosts=192.168.10.150
nrpe_check_commands: |
  command[check_users]={{ nrpe_agent_plugins_x86_64 }}/check_users -w 5 -c 10
  command[check_load]={{ nrpe_agent_plugins_x86_64 }}/check_load -w 5,4,3 -c 10,8,6
  command[check_hda1]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /dev/xvda1
  command[check_total_procs]={{ nrpe_agent_plugins_x86_64 }}/check_procs -w 350 -c 500
  command[check_ssh]={{ nrpe_agent_plugins_x86_64 }}/check_ssh -p 22 localhost
  command[check_memory]={{ nrpe_agent_plugins_x86_64 }}/check_memory_mongo.pl -w 10 -c 5 -f -C
  command[check_volume]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /dev/xvdm
  command[check_openconns]={{ nrpe_agent_plugins_x86_64 }}/check_openconn 2600 2900
  command[check_httpconns]={{ nrpe_agent_plugins_x86_64 }}/check_httpconn 40 50
  command[check_networkio]=/usr/bin/perl {{ nrpe_agent_plugins_x86_64 }}/stat_net.pl
  command[check_iostat]={{ nrpe_agent_plugins_x86_64 }}/check_iostat.sh -d xvda -w 100,100,100 -c 200,200,200
  command[check_iostat_xvdm]={{ nrpe_agent_plugins_x86_64 }}/check_iostat.sh -d xvdm -w 100,100,100 -c 200,200,200
  command[check_iostat_xvdn]={{ nrpe_agent_plugins_x86_64 }}/check_iostat.sh -d xvdn -w 100,100,100 -c 200,200,200
  command[check_ResolverServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [R]esolverServer.js 70 90
  command[check_ResolverServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [R]esolverServer.js 70 90
  command[check_PresenceServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [P]resenceServer.js 70 90
  command[check_PresenceServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [P]resenceServer.js 70 90
  command[check_MessageScehdulerServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [M]essageScehdulerServer.js 70 90
  command[check_MessageScehdulerServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [M]essageScehdulerServer.js 70 90
  command[check_Idproxy_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [I]dProxyServer.js 70 90
  command[check_Idproxy_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [I]dProxyServer.js 70 90
  command[check_JobServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [J]obServer.js 70 90
  command[check_JobServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [J]obServer.js 70 90
  command[check_ResourceResolverServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [R]esourceResolverServer.js 70 90
  command[check_ResourceResolverServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [R]esourceResolverServer.js 70 90
  command[check_ApplicationServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [A]pplicationServer.js 70 90
  command[check_ApplicationServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [A]pplicationServer.js 70 90
  command[check_localvolume1]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /dev/xvdg
  command[check_diskio]={{ nrpe_agent_plugins_x86_64 }}/check_diskstat.sh -d xvda -W 10 -C 20
  command[check_logstashshipper]=sudo {{ nrpe_agent_plugins_x86_64 }}/javastats [l]ogstash-shipper
  command[check_schedulerserver_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [S]chedulerServer.js 70 90
  command[check_schedulerserver_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [S]chedulerServer.js 70 90
  command[check_cpu_stats]={{ nrpe_agent_plugins_x86_64 }}/check_cpu_stats.sh -w 75,75,75 -c 95,95,95
  command[check_rootvolume]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /
  command[check_disk]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /
  command[check_usrvolume]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /usr
  command[check_datavolume]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /data
  command[check_datavolume1]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /data1
  command[check_backupvolume]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /backup
  command[check_backupsvolume]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /backups
  command[check_homevolume]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /home
  command[check_glusterlocally]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /mnt/glusterfs
  command[check_Redis_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [r]edis-server 70 90
  command[check_Redis_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [r]edis-server 70 90
  command[check_elasticsearch_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [e]lasticsearch 70 90
  command[check_elasticsearch_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [e]lasticsearch 70 90
  command[check_nginx_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [n]ginx 70 90
  command[check_nginx_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [n]ginx 70 90
  command[check_mongodb]={{ nrpe_agent_plugins_x86_64 }}/check_mongodb.py -H localhost
  command[check_redis_llen]={{ nrpe_agent_plugins_x86_64 }}/redis-llen.sh localhost 6379 nginxlogs -w 100 -c 1000
  command[check_SyncEmail_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [S]yncEmails.js 70 90
  command[check_SyncEmail_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [S]yncEmails.js 70 90
  command[check_EmailServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [E]mailServer.js 70 90
  command[check_EmailServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [E]mailServer.js 70 90
  command[check_Haraka_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [h]arakaService 70 90
  command[check_Haraka_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [h]arakaService 70 90
  command[check_WorkFlowServiceEngine_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [W]orkFlowServiceEngine.js 70 90
  command[check_WorkFlowServiceEngine_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [W]orkFlowServiceEngine.js 70 90
  command[check_WorkflowServiceEngine_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [W]orkFlowServiceEngine.js 70 90
  command[check_WorkflowServiceEngine_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [W]orkFlowServiceEngine.js 70 90
  command[check_WorkFlowAppServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [W]orkFlowAppServer.js 70 90
  command[check_WorkFlowAppServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [W]orkFlowAppServer.js 70 90
  command[check_EventGenerator_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [E]ventGenerator.js 70 90
  command[check_EventGenerator_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [E]ventGenerator.js 70 90
  command[check_AlertRouter_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [A]lertRouter.js 70 90
  command[check_WebhookListner_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [W]ebhookListner.js 70 90
  command[check_PollServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [P]ollServer.js 70 90
  command[check_AuthServer_mem]=sh {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [A]uthServer.js 70 90
  command[check_AlertRouter_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [A]lertRouter.js 70 90
  command[check_WebhookListner_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [W]ebhookListner.js 70 90
  command[check_PollServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [P]ollServer.js 70 90
  command[check_AuthServer_cpu]=sh {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [A]uthServer.js 70 90
  command[check_WorkflowScheduler_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [W]orkFlowScheduler.js 70 90
  command[check_WorkflowScheduler_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [W]orkFlowScheduler.js 70 90
  command[check_SyncServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [S]yncServer.js 70 90
  command[check_SyncServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [S]yncServer.js 70 90
  command[check_Aggregator_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [A]ggregator.js 70 90
  command[check_Aggregator_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [A]ggregator.js 70 90
  command[check_ADSyncServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [A]DSyncServer.js 70 90
  command[check_ADSyncServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [A]DSyncServer.js 70 90
  command[check_RetentionServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [R]etentionServer.js 70 90
  command[check_RetentionServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [R]etentionServer.js 70 90
  command[check_KeyServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [K]eyServer 70 90
  command[check_KeyServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [K]eyServer 70 90
  command[check_redis_applogs]={{ nrpe_agent_plugins_x86_64 }}/redis-llen.sh localhost 6379 applogs -w 100 -c 1000
  command[check_redis_securitylogs]={{ nrpe_agent_plugins_x86_64 }}/redis-llen.sh localhost 6379 securitylogs -w 100 -c 1000
  command[check_redis_usagelogs]={{ nrpe_agent_plugins_x86_64 }}/redis-llen.sh localhost 6379 usagelogs -w 100 -c 1000
  command[check_presencelog]={{ nrpe_agent_plugins_x86_64 }}/check_presencelog 5 10
  command[check_logstashindexer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [l]ogstash 70 90
  command[check_logstashindexer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [l]ogstash 70 90
  command[check_NurturingEmailsServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [N]urturingEmailsServer.js 70 90
  command[check_NurturingEmailsServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [N]urturingEmailsServer.js 70 90
  command[check_datavolume2]={{ nrpe_agent_plugins_x86_64 }}/check_disk -w 20% -c 10% -p /data2
  command[check_EncryptionServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [E]ncryptionServer.js 70 90
  command[check_EncryptionServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [E]ncryptionServer.js 70 90
  command[check_SyncServerProcessors_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [S]yncServerProcessors.js 70 90
  command[check_SyncServerProcessors_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [S]yncServerProcessors.js 70 90
  command[check_NurturingEmailsServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [N]urturingEmailsServer 70 90
  command[check_NurturingEmailsServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [N]urturingEmailsServer 70 90
  command[check_ResolverServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [R]esolverServer.js 70 90
  command[check_ResolverServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [R]esolverServer.js 70 90
  command[check_BillingServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [B]illingServer.js 70 90
  command[check_BillingServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [B]illingServer.js 70 90
  command[check_BotRTMJobServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [i]ndex.js 70 90
  command[check_BotRTMJobServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [i]ndex.js 70 90
  command[check_chef-client_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [c]hef-client 70 90
  command[check_chef-client_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [c]hef-client 70 90
  command[check_RTMServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [R]TMServer.js 70 90
  command[check_RTMServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [R]TMServer.js 70 90
  command[check_BotRTMServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [i]ndex.js 70 90
  command[check_BotRTMServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [i]ndex.js 70 90
  command[check_BotsService_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [B]otsService.js 70 90
  command[check_BotsService_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [B]otsService.js 70 90
  command[check_BotAdminJobServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [B]otAdminJobServer.js 70 90
  command[check_BotAdminJobServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [B]otAdminJobServer.js 70 90
  command[check_DataArchiveServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [D]ataArchiveServer.js 70 90
  command[check_DataArchiveServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [D]ataArchiveServer.js 70 90
  command[check_BotSlackService_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [B]otSlackService.js 70 90
  command[check_BotSlackService_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [B]otSlackService.js 70 90
  command[check_BotRTMJobServer_mem]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_mem_process [B]otRTMJobServer.js 70 90
  command[check_BotRTMJobServer_cpu]=sudo {{ nrpe_agent_plugins_x86_64 }}/check_cpu_process [B]otRTMJobServer.js 70 90 
  command[check_users]=/usr/lib64/nagios/plugins/check_users -w 5 -c 10
  command[check_load]=/usr/lib64/nagios/plugins/check_load -w 15,10,5 -c 30,25,20
  command[check_hda1]=/usr/lib64/nagios/plugins/check_disk -w 20% -c 10% -p /dev/hda1
  command[check_zombie_procs]=/usr/lib64/nagios/plugins/check_procs -w 5 -c 10 -s Z
  command[check_total_procs]=/usr/lib64/nagios/plugins/check_procs -w 150 -c 200
tags: nrpe-agent
